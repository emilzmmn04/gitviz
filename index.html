<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gitviz — terminal git graph visualizer</title>
  <meta name="description" content="Fast, keyboard-driven terminal UI for visualizing Git commit history. Built in Rust.">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:       #ffffff;
      --chrome:   #ececec;
      --sel:      #d4d4d4;
      --rule:     #c0c0c0;
      --text:     #1a1a1a;
      --muted:    #888888;
      --teal:     #009090;
      --amber:    #cc7722;
      --blue:     #3366bb;
      --dim:      #555555;
      --cbg:      #f7f7f7;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--text);
      /* Menlo is the exact macOS Terminal font; fallback chain covers all platforms */
      font-family: 'Menlo', 'Monaco', 'Consolas', 'Courier New', monospace;
      font-size: 13px;
      line-height: 1.5;
      min-height: 100vh;
    }

    /* ── macOS Window Chrome ── */
    .chrome {
      position: sticky;
      top: 0;
      z-index: 200;
      background: var(--chrome);
      border-bottom: 1px solid var(--rule);
      display: flex;
      align-items: center;
      padding: 9px 18px;
      gap: 10px;
      user-select: none;
    }
    .dots { display: flex; gap: 6px; }
    .dot  { width: 12px; height: 12px; border-radius: 50%; }
    .dot.r { background: #ff5f57; }
    .dot.y { background: #ffbd2e; }
    .dot.g { background: #28c840; }
    .win-title {
      flex: 1;
      text-align: center;
      font-size: 12px;
      color: #777;
      letter-spacing: 0.01em;
    }

    /* ── Page wrapper ── */
    .page {
      max-width: 980px;
      margin: 0 auto;
      padding-bottom: 52px;
    }

    /* ── Panel-style section headers — exactly like the tool ── */
    .sh {
      display: flex;
      align-items: center;
      color: var(--teal);
      font-size: 13px;
      padding: 28px 18px 8px;
      border-top: 1px solid var(--rule);
      gap: 0;
    }
    .sh:first-child { border-top: none; }
    .sh-lbl { padding-right: 4px; white-space: nowrap; }
    .sh-rule { flex: 1; height: 1px; background: var(--rule); }

    /* ── Hero ── */
    .hero {
      display: grid;
      grid-template-columns: 1fr 460px;
      gap: 52px;
      align-items: start;
      padding: 44px 18px 36px;
    }

    .hero-title {
      color: var(--text);
      font-size: clamp(52px, 11vw, 84px);
      font-weight: 700;
      line-height: 1;
      letter-spacing: -0.03em;
    }
    .hero-title .cur {
      display: inline-block;
      width: 0.48em;
      height: 0.88em;
      background: var(--text);
      vertical-align: text-bottom;
      margin-left: 4px;
      animation: blink 1s step-end infinite;
    }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }

    .hero-sub {
      color: var(--teal);
      font-size: 14px;
      margin-top: 14px;
      margin-bottom: 18px;
      line-height: 1.65;
    }
    .hero-desc {
      color: var(--dim);
      font-size: 13px;
      line-height: 1.85;
    }
    .hero-desc code { color: var(--amber); }

    .cta {
      margin-top: 28px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 20px;
      font-family: inherit;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      border: 1px solid;
      transition: all 0.1s;
    }
    .btn-primary { background: var(--teal); color: #fff; border-color: var(--teal); }
    .btn-primary:hover { background: #007070; border-color: #007070; }
    .btn-ghost   { background: transparent; color: var(--text); border-color: var(--rule); }
    .btn-ghost:hover { border-color: var(--teal); color: var(--teal); }

    /* ── Demo terminal (hero right side) ── */
    .demo {
      border: 1px solid var(--rule);
      background: var(--bg);
      font-size: 13px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    }
    .demo-chrome {
      background: var(--chrome);
      border-bottom: 1px solid var(--rule);
      display: flex;
      align-items: center;
      padding: 7px 10px;
    }
    .demo-dots { display: flex; gap: 5px; margin-right: 8px; }
    .demo-dot  { width: 10px; height: 10px; border-radius: 50%; }
    .demo-dot.r { background: #ff5f57; }
    .demo-dot.y { background: #ffbd2e; }
    .demo-dot.g { background: #28c840; }
    .demo-wtitle { flex: 1; text-align: center; font-size: 11px; color: #888; }

    /* list header – "Commits (N) ───" in teal */
    .dlh {
      display: flex;
      align-items: center;
      padding: 5px 10px 2px;
      font-size: 12px;
      color: var(--teal);
    }
    .dlh::after { content:''; flex:1; height:1px; background:var(--rule); margin-left:6px; }

    /* commit rows */
    .cr {
      display: flex;
      align-items: baseline;
      padding: 2px 10px;
      gap: 6px;
      font-size: 12.5px;
      line-height: 1.55;
      white-space: nowrap;
      overflow: hidden;
      cursor: pointer;
    }
    .cr.sel { background: var(--sel); }
    .cr:not(.sel):hover { background: #f2f2f2; }
    .cr.sel .cm { font-weight: 700; }
    .cr.graph { cursor: default; } /* the │/ separator row */
    .cr.graph:hover { background: none; }

    .ca  { color: var(--text); width: 12px; flex-shrink: 0; font-size: 11px; }  /* ▶ arrow */
    .cgfx{ color: var(--dim);  flex-shrink: 0; }                                 /* │ / */
    .cd  { color: var(--blue); flex-shrink: 0; }                                 /* ● dot */
    .ch  { color: var(--amber); flex-shrink: 0; }                                /* hash */
    .cref{ color: var(--blue); font-size: 11.5px; flex-shrink: 0; }             /* [ref] */
    .cm  { color: var(--text); overflow: hidden; text-overflow: ellipsis; }      /* message */

    /* details panel */
    .ddet {
      border-top: 1px solid var(--rule);
    }
    .ddet-head {
      display: flex;
      align-items: center;
      padding: 5px 10px 2px;
      font-size: 12px;
      color: var(--teal);
    }
    .ddet-head::after { content:''; flex:1; height:1px; background:var(--rule); margin-left:6px; }

    .dr {
      display: grid;
      grid-template-columns: 56px 1fr;
      gap: 6px;
      padding: 1px 10px;
      font-size: 12px;
      line-height: 1.55;
    }
    .dl  { color: var(--amber); }
    .dv  { color: var(--text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .dv.mut  { color: var(--muted); }
    .dv.blue { color: var(--blue); }
    .dmsg { padding: 6px 10px 9px; font-size: 12px; font-weight: 700; color: var(--text); }

    .demo-keys {
      border-top: 1px solid var(--rule);
      display: flex;
      gap: 18px;
      padding: 4px 10px;
      font-size: 11px;
      color: var(--dim);
    }

    /* ── Features ── */
    .features {
      display: grid;
      grid-template-columns: 1fr 1fr;
      padding: 4px 18px 28px;
    }
    .feat {
      display: flex;
      gap: 10px;
      padding: 8px 6px;
      opacity: 0;
      animation: fadeup 0.4s ease forwards;
    }
    @keyframes fadeup {
      from { opacity:0; transform:translateY(5px); }
      to   { opacity:1; transform:translateY(0); }
    }
    .fd { color: var(--blue); flex-shrink: 0; margin-top: 1px; }
    .fn { display:block; color:var(--text); font-weight:600; font-size:13px; margin-bottom:3px; }
    .fx { color: var(--dim); font-size: 12px; line-height: 1.55; }

    /* stagger delays */
    .s1{animation-delay:.05s} .s2{animation-delay:.10s} .s3{animation-delay:.16s}
    .s4{animation-delay:.22s} .s5{animation-delay:.28s} .s6{animation-delay:.34s}
    .s7{animation-delay:.40s} .s8{animation-delay:.46s}

    /* ── Install ── */
    .install { padding: 4px 18px 28px; }

    .tabs {
      display: flex;
      border-bottom: 1px solid var(--rule);
      margin-bottom: 16px;
    }
    .tab {
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      color: var(--dim);
      font-family: inherit;
      font-size: 13px;
      font-weight: 500;
      padding: 6px 18px 8px;
      cursor: pointer;
      margin-bottom: -1px;
      transition: color .1s, border-color .1s;
    }
    .tab:hover { color: var(--text); }
    .tab.on { color: var(--teal); border-bottom-color: var(--teal); }

    .pane { display: none; }
    .pane.on { display: block; }

    .cb {
      border: 1px solid var(--rule);
      background: var(--bg);
    }
    .cb-head {
      background: var(--cbg);
      border-bottom: 1px solid var(--rule);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 5px 12px;
      font-size: 11px;
      color: var(--dim);
    }
    .cb-body {
      padding: 13px 16px;
      font-size: 13px;
      line-height: 1.9;
      overflow-x: auto;
    }
    .cb-body.sm { font-size: 12px; }
    .p  { color: var(--teal); user-select: none; }
    .c  { color: var(--text); }
    .cc { color: var(--muted); margin-left: 10px; font-size: 12px; }

    .cpbtn {
      background: none;
      border: 1px solid var(--rule);
      color: var(--dim);
      font-family: inherit;
      font-size: 11px;
      padding: 2px 9px;
      cursor: pointer;
      transition: all .1s;
    }
    .cpbtn:hover { color: var(--teal); border-color: var(--teal); }
    .cpbtn.ok    { color: #1a9a1a; border-color: #1a9a1a; }

    .inote { color: var(--muted); font-size: 12px; margin-top: 8px; }

    /* ── Usage ── */
    .usage { padding: 4px 18px 28px; }

    /* ── Links ── */
    .links {
      padding: 8px 18px 28px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* ── Footer keybindings bar — exactly like the tool ── */
    .footer {
      position: fixed;
      bottom: 0; left: 0; right: 0;
      background: var(--chrome);
      border-top: 1px solid var(--rule);
      display: flex;
      align-items: center;
      gap: 24px;
      padding: 6px 22px;
      font-size: 12px;
      color: var(--dim);
      z-index: 100;
      flex-wrap: wrap;
    }
    .footer a { color: var(--teal); text-decoration: none; margin-left: auto; }
    .footer a:hover { text-decoration: underline; }

    /* ── Scrollbar ── */
    ::-webkit-scrollbar { width: 5px; height: 5px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: #ccc; border-radius: 2px; }

    /* ── Responsive ── */
    @media (max-width: 780px) {
      .hero { grid-template-columns: 1fr; gap: 30px; padding: 28px 16px 24px; }
      .features { grid-template-columns: 1fr; padding-left: 16px; padding-right: 16px; }
      .hero-title { font-size: 48px; }
      .install, .usage, .links { padding-left: 16px; padding-right: 16px; }
      .sh { padding-left: 16px; padding-right: 16px; }
      .footer { gap: 14px; font-size: 11px; }
    }
  </style>
</head>
<body>

<!-- macOS window chrome -->
<div class="chrome">
  <div class="dots">
    <span class="dot r"></span>
    <span class="dot y"></span>
    <span class="dot g"></span>
  </div>
  <span class="win-title">gitviz — gitviz — 120×40</span>
</div>

<div class="page">

  <!-- ───────── HERO ───────── -->
  <div class="sh" style="border-top:none;">
    <span class="sh-lbl">Overview</span><span class="sh-rule"></span>
  </div>

  <div class="hero">
    <div>
      <h1 class="hero-title">gitviz<span class="cur"></span></h1>
      <p class="hero-sub">Fast, keyboard-driven terminal UI<br>for visualizing Git commit history.</p>
      <p class="hero-desc">
        Navigate branches, inspect commits, and search history —
        all from your terminal. Built in Rust.
        Single <code>git log</code> call. No libgit2.
        Works on macOS and Linux.
      </p>
      <div class="cta">
        <a href="#install" class="btn btn-primary">↓ install</a>
        <a href="https://github.com/emilzmmn04/gitviz" class="btn btn-ghost" target="_blank" rel="noopener">github ↗</a>
      </div>
    </div>

    <!-- Interactive demo — fictional repo, no private data -->
    <div class="demo">
      <div class="demo-chrome">
        <div class="demo-dots">
          <span class="demo-dot r"></span>
          <span class="demo-dot y"></span>
          <span class="demo-dot g"></span>
        </div>
        <span class="demo-wtitle">myproject — gitviz — 80×22</span>
      </div>

      <div class="dlh">Commits (7)</div>

      <div id="clist">
        <!-- data-idx maps to the commits[] array in JS -->
        <div class="cr sel" data-idx="0">
          <span class="ca">▶</span>
          <span class="cd">●</span>
          <span class="ch">a1b2c3d</span>
          <span class="cref">[HEAD→main]</span>
          <span class="cm">Merge branch 'feature/auth'</span>
        </div>
        <div class="cr" data-idx="1">
          <span class="ca"> </span>
          <span class="cd" style="color:var(--teal)">◎</span>
          <span class="ch">e4f5a6b</span>
          <span class="cref">[origin/main]</span>
          <span class="cm">Update CI pipeline</span>
        </div>
        <div class="cr" data-idx="2">
          <span class="ca"> </span>
          <span class="cgfx">│ </span>
          <span class="cd">●</span>
          <span class="ch">7c8d9e0</span>
          <span class="cm">Add JWT authentication</span>
        </div>
        <div class="cr" data-idx="3">
          <span class="ca"> </span>
          <span class="cgfx">│ </span>
          <span class="cd">●</span>
          <span class="ch">f1a2b3c</span>
          <span class="cm">Implement login endpoint</span>
        </div>
        <!-- branch convergence line — visual only, not interactive -->
        <div class="cr graph">
          <span class="ca"> </span>
          <span class="cgfx">│/</span>
        </div>
        <div class="cr" data-idx="4">
          <span class="ca"> </span>
          <span class="cd">●</span>
          <span class="ch">d4e5f6a</span>
          <span class="cref">[v1.0.0]</span>
          <span class="cm">Initial stable release</span>
        </div>
        <div class="cr" data-idx="5">
          <span class="ca"> </span>
          <span class="cd">●</span>
          <span class="ch">0e1f2a3</span>
          <span class="cm">Initial commit</span>
        </div>
      </div>

      <div class="ddet">
        <div class="ddet-head">Details</div>
        <div class="dr">
          <span class="dl">Commit</span>
          <span class="dv mut" id="d-hash">a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0</span>
        </div>
        <div class="dr">
          <span class="dl">Author</span>
          <span class="dv"      id="d-author">Alice Developer</span>
        </div>
        <div class="dr">
          <span class="dl">Date</span>
          <span class="dv"      id="d-date">2026-02-24  (just now)</span>
        </div>
        <div class="dr">
          <span class="dl">Refs</span>
          <span class="dv blue" id="d-refs">HEAD → main</span>
        </div>
        <div class="dmsg" id="d-msg">Merge branch 'feature/auth'</div>
      </div>

      <div class="demo-keys">
        <span>j/k:move</span>
        <span>Enter:toggle details</span>
        <span>/:filter</span>
        <span>q:quit</span>
      </div>
    </div>
  </div>

  <!-- ───────── FEATURES ───────── -->
  <div class="sh">
    <span class="sh-lbl">Features</span><span class="sh-rule"></span>
  </div>
  <div class="features">
    <div class="feat s1">
      <span class="fd">●</span>
      <div><span class="fn">Lane-based commit graph</span>
           <span class="fx">Parallel branches as colour-coded columns with graph characters</span></div>
    </div>
    <div class="feat s2">
      <span class="fd">●</span>
      <div><span class="fn">Ref labels inline</span>
           <span class="fx">HEAD, local branches, remote branches, and tags at a glance</span></div>
    </div>
    <div class="feat s3">
      <span class="fd">●</span>
      <div><span class="fn">Commit details panel</span>
           <span class="fx">Full hash, author, date, and message on selection</span></div>
    </div>
    <div class="feat s4">
      <span class="fd">●</span>
      <div><span class="fn">Live fuzzy search</span>
           <span class="fx">Filter commits by message substring in real-time with /</span></div>
    </div>
    <div class="feat s5">
      <span class="fd">●</span>
      <div><span class="fn">Vim-style navigation</span>
           <span class="fx">j/k, g/G, arrow keys — full keyboard control, no mouse</span></div>
    </div>
    <div class="feat s6">
      <span class="fd">●</span>
      <div><span class="fn">Zero overhead</span>
           <span class="fx">Single git log call, no libgit2, instant startup</span></div>
    </div>
    <div class="feat s7">
      <span class="fd">●</span>
      <div><span class="fn">Cross-platform</span>
           <span class="fx">macOS and Linux, any terminal emulator</span></div>
    </div>
    <div class="feat s8">
      <span class="fd">●</span>
      <div><span class="fn">Built in Rust</span>
           <span class="fx">Fast single binary, no runtime, no interpreter</span></div>
    </div>
  </div>

  <!-- ───────── INSTALL ───────── -->
  <div class="sh" id="install">
    <span class="sh-lbl">Install</span><span class="sh-rule"></span>
  </div>
  <div class="install">
    <div class="tabs">
      <button class="tab on" data-for="p-npm">npm</button>
      <button class="tab"    data-for="p-brew">brew</button>
      <button class="tab"    data-for="p-cargo">cargo</button>
    </div>

    <div class="pane on" id="p-npm">
      <div class="cb">
        <div class="cb-head">
          <span>npm — prebuilt binary</span>
          <button class="cpbtn" data-text="npm i -g @emilzmmn04/gitviz">copy</button>
        </div>
        <div class="cb-body">
          <span class="p">$ </span><span class="c">npm i -g @emilzmmn04/gitviz</span>
        </div>
      </div>
      <p class="inote"># Requires Node.js to be installed</p>
    </div>

    <div class="pane" id="p-brew">
      <div class="cb">
        <div class="cb-head">
          <span>Homebrew — macOS &amp; Linux</span>
          <button class="cpbtn" data-text="brew tap emilzmmn04/tap
brew install gitviz">copy</button>
        </div>
        <div class="cb-body">
          <div><span class="p">$ </span><span class="c">brew tap emilzmmn04/tap</span></div>
          <div><span class="p">$ </span><span class="c">brew install gitviz</span></div>
        </div>
      </div>
    </div>

    <div class="pane" id="p-cargo">
      <div class="cb">
        <div class="cb-head">
          <span>Cargo — build from source (Rust ≥ 1.70)</span>
          <button class="cpbtn" data-text="git clone https://github.com/emilzmmn04/gitviz.git
cd gitviz
cargo install --path .">copy</button>
        </div>
        <div class="cb-body">
          <div><span class="p">$ </span><span class="c">git clone https://github.com/emilzmmn04/gitviz.git</span></div>
          <div><span class="p">$ </span><span class="c">cd gitviz</span></div>
          <div><span class="p">$ </span><span class="c">cargo install --path .</span></div>
        </div>
      </div>
      <p class="inote"># Make sure ~/.cargo/bin is on your $PATH</p>
    </div>
  </div>

  <!-- ───────── USAGE ───────── -->
  <div class="sh">
    <span class="sh-lbl">Usage</span><span class="sh-rule"></span>
  </div>
  <div class="usage">
    <div class="cb">
      <div class="cb-head"><span>Common flags</span></div>
      <div class="cb-body">
        <div><span class="p">$ </span><span class="c">gitviz</span><span class="cc"># current repo, all branches, last 200 commits</span></div>
        <div><span class="p">$ </span><span class="c">gitviz --max 50</span><span class="cc"># limit to 50 commits</span></div>
        <div><span class="p">$ </span><span class="c">gitviz --repo ~/projects/myapp</span><span class="cc"># different repo</span></div>
        <div><span class="p">$ </span><span class="c">gitviz --all false</span><span class="cc"># HEAD branch only</span></div>
        <div><span class="p">$ </span><span class="c">gitviz --since HEAD~500</span><span class="cc"># exclude older history</span></div>
      </div>
    </div>
  </div>

  <!-- ───────── LINKS ───────── -->
  <div class="sh">
    <span class="sh-lbl">Links</span><span class="sh-rule"></span>
  </div>
  <div class="links">
    <a href="https://github.com/emilzmmn04/gitviz" class="btn btn-ghost" target="_blank" rel="noopener">
      github.com/emilzmmn04/gitviz ↗
    </a>
    <a href="https://github.com/emilzmmn04/gitviz/issues/new" class="btn btn-ghost" target="_blank" rel="noopener">
      open an issue
    </a>
    <a href="https://github.com/emilzmmn04/gitviz/releases" class="btn btn-ghost" target="_blank" rel="noopener">
      releases
    </a>
  </div>

</div><!-- /page -->

<!-- Footer keybindings bar — mirrors the tool's bottom bar exactly -->
<div class="footer">
  <span>j/k:navigate demo</span>
  <span>Tab:switch install</span>
  <span>Enter:toggle details</span>
  <span>MIT License</span>
  <a href="https://github.com/emilzmmn04/gitviz" target="_blank" rel="noopener">github ↗</a>
</div>

<script>
// ── Demo commit data — fully fictional, no private info ───────────────────────
const commits = [
  { hash: 'a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0', author: 'Alice Developer', date: '2026-02-24  (just now)',    refs: 'HEAD → main',   msg: "Merge branch 'feature/auth'" },
  { hash: 'e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3', author: 'Alice Developer', date: '2026-02-24  (2 hours ago)', refs: 'origin/main',   msg: 'Update CI pipeline' },
  { hash: '7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d', author: 'Bob Contributor', date: '2026-02-23  (1 day ago)',   refs: '',              msg: 'Add JWT authentication' },
  { hash: 'f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0', author: 'Bob Contributor', date: '2026-02-23  (2 days ago)', refs: '',              msg: 'Implement login endpoint' },
  { hash: 'd4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3', author: 'Alice Developer', date: '2026-02-20  (4 days ago)', refs: 'tag: v1.0.0',   msg: 'Initial stable release' },
  { hash: '0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f', author: 'Alice Developer', date: '2026-02-15  (9 days ago)', refs: '',              msg: 'Initial commit' },
];

// Only rows with data-idx are interactive
const rows = Array.from(document.querySelectorAll('.cr[data-idx]'));
let sel = 0;

function updateDemo(idx) {
  rows.forEach(r => {
    const active = parseInt(r.dataset.idx) === idx;
    r.classList.toggle('sel', active);
    r.querySelector('.ca').textContent = active ? '▶' : ' ';
  });
  const c = commits[idx];
  document.getElementById('d-hash').textContent   = c.hash;
  document.getElementById('d-author').textContent = c.author;
  document.getElementById('d-date').textContent   = c.date;
  document.getElementById('d-refs').textContent   = c.refs || '—';
  document.getElementById('d-msg').textContent    = c.msg;
  sel = idx;
}

rows.forEach(r => r.addEventListener('click', () => updateDemo(parseInt(r.dataset.idx))));

// j/k keyboard navigation — same keys as the tool
document.addEventListener('keydown', e => {
  const tag = document.activeElement.tagName;
  if (tag === 'INPUT' || tag === 'TEXTAREA') return;

  if (e.key === 'j' || e.key === 'ArrowDown') {
    e.preventDefault();
    if (sel < commits.length - 1) updateDemo(sel + 1);
  } else if (e.key === 'k' || e.key === 'ArrowUp') {
    e.preventDefault();
    if (sel > 0) updateDemo(sel - 1);
  } else if (e.key === 'Tab' && !e.target.closest('button, a, input')) {
    e.preventDefault();
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const idx  = tabs.findIndex(t => t.classList.contains('on'));
    tabs[(idx + 1) % tabs.length].click();
  }
});

// ── Install tabs ──────────────────────────────────────────────────────────────
document.querySelectorAll('.tab').forEach(t => {
  t.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(x => x.classList.remove('on'));
    document.querySelectorAll('.pane').forEach(x => x.classList.remove('on'));
    t.classList.add('on');
    document.getElementById(t.dataset.for).classList.add('on');
  });
});

// ── Copy to clipboard ─────────────────────────────────────────────────────────
document.querySelectorAll('.cpbtn[data-text]').forEach(btn => {
  btn.addEventListener('click', function () { doCopy(this, this.dataset.text); });
});

async function doCopy(btn, text) {
  try {
    await navigator.clipboard.writeText(text);
    btn.textContent = 'copied!';
    btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'copy'; btn.classList.remove('ok'); }, 2000);
  } catch (_) {
    btn.textContent = 'error';
    setTimeout(() => { btn.textContent = 'copy'; }, 2000);
  }
}
</script>
</body>
</html>
